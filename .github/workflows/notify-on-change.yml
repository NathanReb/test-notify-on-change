name: Notify 

on:
  pull_request:
    paths:
      - 'a.md'
      - 'c.md'

jobs:
  comment:
    permissions:
      pull-requests: write
    runs-on: ubuntu-latest
    steps:
      - uses: actions/github-script@v7
        with:
          script: |
            github.rest.issues.createComment({
              issue_number: context.issue.number,
              owner: context.repo.owner,
              repo: context.repo.repo,
              body: 'CC @NathanReb'
            })
      - uses: actions/github-script@v7
        with:
          script: |
            const query = `query($owner:String!, $name:String!, $number:Int!) {
              repository(owner:$owner, name:$name){
                pullRequest(number: $number) {
                  participants(first: 20) {
                    nodes {
                      login
                    }
                  }
                }
              }
            }`;
            const variables = {
              owner: context.repo.owner,
              name: context.repo.repo,
              number: context.issue.number
            }
            const result = await github.graphql(query, variables)
            console.log(result)
